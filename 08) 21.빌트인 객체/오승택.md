# 21장 빌트인 객체

## 21-1. 자바스크립트 객체의 분류

1. 표준 빌트인 객체

- ECMA Script에 정의된 객체
- 어플리케이션 전역에 공통 기능 제공
- 자바스크립트 실행환경에 관계없이 사용할 수 있다.

2. 호스트 객체

- 자바스크립트 실행환경에서 추가로 제공하는 객체
- 브라우저 환경 : Web API
- Node js : Node js 고유 API

3. 사용자 정의 객체

- 사용자가 직접 정의한 객체

## 21-2. 표준 빌트인 객체

- 40여개의 표준 빌트인 객체
  - 생성자 함수 객체인 표준 빌트인 객체 => 프로토타입 메서드와 정적 메서드 제공
  - 생성자 함수 객체가 아닌 표준 빌트인 객체 => 정적 메서드만 제공

### ex) `Number`

- 인스턴스 생성 : new Number(1.5)
- 프로토타입 메서드 : num.toFixed()
- 정적 메서드 : Number.isInteger(1)

## 21-3. 원시값과 래퍼 객체

- 원시값은 객체가 아닌데도 프로퍼티나 메서드를 갖는 것처럼 동작할 때가 있다.
- 이 경우 자바스크립트 엔진이 일시적으로 원시값을 연관된 객체로 변환해주기 때문이다.
- 원시값에 대해 암묵적으로 연관된 객체를 생성하여 프로퍼티, 메서드에 접근 후 다시 원시값으로 돌린다.
- 이때 임시로 생성되는 객체를 래퍼 객체라고 한다.
- 원시값으로 돌아간 뒤에는 래퍼 객체는 가비지 컬렉션의 대상이 된다.
- 단, null과 undefined는 래퍼 객체를 생성하지 않는다. 객체처럼 사용하고자 하면 에러가 발생한다.

## 21-4. 전역 객체

- 어떤 객체보다도 먼저 생성되는 특수한 객체
- 어떤 객체에도 속하지 않는 최상위 객체
- 브라우저 환경에서는 window, Node.js 환경에서는 global이 전역객체를 가리킨다.

> globalThis : 전역 객체를 가리키는 다양한 식별자를 통일한 식별자이다. ES11에서 도입되었다. (표준)

**전역 객체의 구성**

- 표준 빌트인 객체
- 호스트 객체
- var키워드로 선언한 전역 변수
  - let, const 키워드로 선언한 전역 변수는 전역 객체의 프로퍼티가 아니다. 이들은 보이지 않는 개념적인 블록 내에 존재한다.
- 암묵적 전역 (선언하지 않은 변수에 값을 할당)
- 전역 함수

**전역 객체의 특성**

- 전역 객체는 모든 빌트인 객체의 최상위 객체이다. 그러나 프로토타입 상속 관계상의 최상위 객체라는 뜻은 아니다.
- 개발자가 의도적으로 생성할 수 없다.
- 전역 객체의 프로퍼티를 참조할때 window 또는 global을 생략할 수 있다.
- 브라우저 환경의 모든 자바스크립트 코드는 하나의 전역 객체 window를 공유한다. 분리되어있는 코드라고 할지라도.

### 21.4.1 빌트인 전역 프로퍼티

- 전역 객체의 프로퍼티
- 애플리케이션 전역에서 사용하는 값을 제공한다.

#### Infintiy

- 무한대를 나타내는 숫자값

#### NaN

- Not a Number 을 나타내는 숫자값 NaN

#### undefined

- 원시값 undefined

### 21.4.2 빌트인 전역 함수

#### eval

- 인수로 자바스크립트 코드를 나타내는 문자열을 받는다.
- 인수가 표현식이라면 런타임에 평가하여 값을 생성한다.
- 표현식이 아닌 문이라면 문자열 코드를 런타임에 실행한다.
- 여러 개의 문이라면, 모든 문을 실행한다.
- 자신이 호출된 위치에 해당하는 기존의 스코프를 런타임에 동적으로 수정한다.
- 단, strict mode에선 기존의 스코프를 수정하지 않고 eval함수 자신만의 스코프를 생성한다.
- let, const 선언 키워드를 사용하면 암묵적으로 strict mode가 적용된다.

  > eval 함수 사용을 지양해야한다.
  >
  > - 이유 1. 자바스크립트 엔진이 최적화하지 않은 코드를 실행하는 것이며, 이는 성능에 영향을 미칠 수 있다.
  > - 이유 2. 보안에 매우 취약하다.

#### isFinite

- 유한수이면 true를 반환하고, 무한수이면 false를 반환한다.
- 숫자가 아니라면 숫자로 변환 후 검사를 수행한다.
- NaN으로 평가되면 false를 반환한다.

#### isNaN

- NaN인지 검사하여 불리언 타입으로 반환한다.
- 숫자가 아니라면 숫자로 변환 후 검사를 수행한다.
- undefined가 인자로 들어오면, true를 반환한다.
- 빈 객체가 들어오면, true를 반환한다.

#### parseFloat

- 전달받은 문자열 인수를 부동 소수점 숫자, 실수로 해석하여 반환한다.
- 첫번째 문자열을 숫자로 변화할 수 없다면, NaN을 반환한다.
- 공백으로 구분된 문자열은 첫번째 문자열만 변환된다.
- 앞뒤 공백은 무시된다.

#### parseInt

- 전달받은 문자열 인수를 정수로 해석하여 반환한다.
- 문자열이 아니라면 문자열로 변환한다음, 정수로 해석하여 반환한다.
- 두번째 인수로 진법을 나타내는 기수를 전달할 수 있다.
- 반환값은 언제나 10진수이다.
- 10진수 숫자를 해당 기수의 문자열로 변환하여 반환하고 싶을때는 `Number.prototype.toString()` 메서드를 사용한다.
- 16진수 리터럴 형태로 문자열이 들어오면 16진수로 해석하여 10진수 정수로 반환한다.
- 첫번째 문자가 해당지수의 숫자로 변환될 수 없다면 NaN을 반환한다.
- 두번째 문자부터 숫자가 아닌 문자와 마주치면 이후 계속되는 문자들은 무시되고, 해석된 정수값만 반환된다.
- 앞뒤 공백은 무시된다.

#### encodeURI / decodeURI

- 인코딩 : URI의 문자를 이스케이프 처리하는 것
- 이스케이프 처리 : 네트워크를 통해 정보를 공유할 때 어떤 시스템에서도 읽을 수 있는 아스키 문자 셋으로 변환하는 것
- encodeURI : URI를 인수로 받아 이스케이프 처리를 위해 인코딩한 값을 반환한다.
- decodeURI : 인코딩된 URI를 받아 이스케이프 처리 이전으로 디코딩한다.
- 쿼리 스트링 구분자로 사용되는 =, ? &은 인코딩하지 않는다.(완전한 URI 전체로 간주하기 때문)

#### encodeURIComponent / decodeURIComponent

- URI 구성요소를 인수로 받아 인코딩/디코딩한다.
- 쿼리 스트링 구분자로 사용되는 =, ? &까지 인코딩한다.

### 21.4.3 암묵적 전역

- 암묵적 전역으로 해석된 식별자는 전역 객체의 프로퍼티가 되어 마치 전역 변수처럼 동작한다.
- 하지만 이 식별자는 변수가 아니다. 변수가 아니므로 변수 호이스팅이 일어나지 않는다.
- 전역 객체의 프로퍼티 이기에 delete 연산자로 삭제할 수 있다.
